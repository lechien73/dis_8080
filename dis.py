import sys

ops = {
    "0x0": [1, "NOP", 0],
    "0x1": [3, "LXI B, ", 1],
    "0x2": [1, "STAX B", 0],
    "0x3": [1, "INX B", 0],
    "0x4": [1, "INR B", 0],
    "0x5": [1, "DCR B", 0],
    "0x6": [2, "MVI B, ", 1],
    "0x7": [1, "RLC", 0],
    "0x8": [1, "", 0],
    "0x9": [1, "DAD B", 0],
    "0xa": [1, "LDAX B", 0],
    "0xb": [1, "DCX B", 0],
    "0xc": [1, "INR C", 0],
    "0xd": [1, "DCR C", 0],
    "0xe": [2, "MVI C, ", 1],
    "0xf": [1, "RRC", 0],
    "0x10": [1, "", 0],
    "0x11": [3, "LXI D, ", 1],
    "0x12": [1, "STAX D", 0],
    "0x13": [1, "INX D", 0],
    "0x14": [1, "INR D", 0],
    "0x15": [1, "DCR D", 0],
    "0x16": [2, "MVI D, ", 1],
    "0x17": [1, "RAL", 0],
    "0x18": [1, "", 0],
    "0x19": [1, 'DAD D', 0],
    "0x1a": [1, 'LDAX D', 0],
    "0x1b": [1, 'DCX D', 0],
    "0x1c": [1, 'INR E', 0],
    "0x1d": [1, 'DCR E', 0],
    "0x1e": [2, 'MVI E, ', 1],
    "0x1f": [1, 'RAR', 0],
    "0x20": [1, "", 0],
    "0x21": [3, 'LXI H, ', 1],
    "0x22": [3, 'SHLD', 1],
    "0x23": [1, 'INX H', 0],
    "0x24": [1, 'INR H', 0],
    "0x25": [1, 'DCR H', 0],
    "0x26": [2, 'MVI H, ', 1],
    "0x27": [1, 'DAA', 0],
    "0x28": [1, "", 0],
    "0x29": [1, 'DAD H', 0],
    "0x2a": [3, 'LHLD', 1],
    "0x2b": [1, 'DCX H', 0],
    "0x2c": [1, 'INR L', 0],
    "0x2d": [1, 'DCR L', 0],
    "0x2e": [2, 'MVI L, ', 1],
    "0x2f": [1, 'CMA', 0],
    "0x30": [1, "", 0],
    "0x31": [3, 'LXI SP, ', 1],
    "0x32": [3, 'STA', 1],
    "0x33": [1, 'INX SP', 0],
    "0x34": [1, 'INR M', 0],
    "0x35": [1, 'DCR M', 0],
    "0x36": [2, 'MVI M, ', 1],
    "0x37": [1, 'STC', 0],
    "0x38": [1, "", 0],
    "0x39": [1, 'DAD SP', 0],
    "0x3a": [3, 'LDA', 1],
    "0x3b": [1, 'DCX SP', 0],
    "0x3c": [1, 'INR A', 0],
    "0x3d": [1, 'DCR A', 0],
    "0x3e": [2, 'MVI A, ', 1],
    "0x3f": [1, 'CMC', 0],
    "0x40": [1, 'MOV B,B', 0],
    "0x41": [1, 'MOV B,C', 0],
    "0x42": [1, 'MOV B,D', 0],
    "0x43": [1, 'MOV B,E', 0],
    "0x44": [1, 'MOV B,H', 0],
    "0x45": [1, 'MOV B,L', 0],
    "0x46": [1, 'MOV B,M', 0],
    "0x47": [1, 'MOV B,A', 0],
    "0x48": [1, 'MOV C,B', 0],
    "0x49": [1, 'MOV C,C', 0],
    "0x4a": [1, 'MOV C,D', 0],
    "0x4b": [1, 'MOV C,E', 0],
    "0x4c": [1, 'MOV C,H', 0],
    "0x4d": [1, 'MOV C,L', 0],
    "0x4e": [1, 'MOV C,M', 0],
    "0x4f": [1, 'MOV C,A', 0],
    "0x50": [1, 'MOV D,B', 0],
    "0x51": [1, 'MOV D,C', 0],
    "0x52": [1, 'MOV D,D', 0],
    "0x53": [1, 'MOV D,E', 0],
    "0x54": [1, 'MOV D,H', 0],
    "0x55": [1, 'MOV D,L', 0],
    "0x56": [1, 'MOV D,M', 0],
    "0x57": [1, 'MOV D,A', 0],
    "0x58": [1, 'MOV E,B', 0],
    "0x59": [1, 'MOV E,C', 0],
    "0x5a": [1, 'MOV E,D', 0],
    "0x5b": [1, 'MOV E,E', 0],
    "0x5c": [1, 'MOV E,H', 0],
    "0x5d": [1, 'MOV E,L', 0],
    "0x5e": [1, 'MOV E,M', 0],
    "0x5f": [1, 'MOV E,A', 0],
    "0x60": [1, 'MOV H,B', 0],
    "0x61": [1, 'MOV H,C', 0],
    "0x62": [1, 'MOV H,D', 0],
    "0x63": [1, 'MOV H,E', 0],
    "0x64": [1, 'MOV H,H', 0],
    "0x65": [1, 'MOV H,L', 0],
    "0x66": [1, 'MOV H,M', 0],
    "0x67": [1, 'MOV H,A', 0],
    "0x68": [1, 'MOV L,B', 0],
    "0x69": [1, 'MOV L,C', 0],
    "0x6a": [1, 'MOV L,D', 0],
    "0x6b": [1, 'MOV L,E', 0],
    "0x6c": [1, 'MOV L,H', 0],
    "0x6d": [1, 'MOV L,L', 0],
    "0x6e": [1, 'MOV L,M', 0],
    "0x6f": [1, 'MOV L,A', 0],
    "0x70": [1, 'MOV M,B', 0],
    "0x71": [1, 'MOV M,C', 0],
    "0x72": [1, 'MOV M,D', 0],
    "0x73": [1, 'MOV M,E', 0],
    "0x74": [1, 'MOV M,H', 0],
    "0x75": [1, 'MOV M,L', 0],
    "0x76": [1, 'HLT', 0],
    "0x77": [1, 'MOV M,A', 0],
    "0x78": [1, 'MOV A,B', 0],
    "0x79": [1, 'MOV A,C', 0],
    "0x7a": [1, 'MOV A,D', 0],
    "0x7b": [1, 'MOV A,E', 0],
    "0x7c": [1, 'MOV A,H', 0],
    "0x7d": [1, 'MOV A,L', 0],
    "0x7e": [1, 'MOV A,M', 0],
    "0x7f": [1, 'MOV A,A', 0],
    "0x80": [1, 'ADD B', 0],
    "0x81": [1, 'ADD C', 0],
    "0x82": [1, 'ADD D', 0],
    "0x83": [1, 'ADD E', 0],
    "0x84": [1, 'ADD H', 0],
    "0x85": [1, 'ADD L', 0],
    "0x86": [1, 'ADD M', 0],
    "0x87": [1, 'ADD A', 0],
    "0x88": [1, 'ADC B', 0],
    "0x89": [1, 'ADC C', 0],
    "0x8a": [1, 'ADC D', 0],
    "0x8b": [1, 'ADC E', 0],
    "0x8c": [1, 'ADC H', 0],
    "0x8d": [1, 'ADC L', 0],
    "0x8e": [1, 'ADC M', 0],
    "0x8f": [1, 'ADC A', 0],
    "0x90": [1, 'SUB B', 0],
    "0x91": [1, 'SUB C', 0],
    "0x92": [1, 'SUB D', 0],
    "0x93": [1, 'SUB E', 0],
    "0x94": [1, 'SUB H', 0],
    "0x95": [1, 'SUB L', 0],
    "0x96": [1, 'SUB M', 0],
    "0x97": [1, 'SUB A', 0],
    "0x98": [1, 'SBB B', 0],
    "0x99": [1, 'SBB C', 0],
    "0x9a": [1, 'SBB D', 0],
    "0x9b": [1, 'SBB E', 0],
    "0x9c": [1, 'SBB H', 0],
    "0x9d": [1, 'SBB L', 0],
    "0x9e": [1, 'SBB M', 0],
    "0x9f": [1, 'SBB A', 0],
    "0xa0": [1, 'ANA B', 0],
    "0xa1": [1, 'ANA C', 0],
    "0xa2": [1, 'ANA D', 0],
    "0xa3": [1, 'ANA E', 0],
    "0xa4": [1, 'ANA H', 0],
    "0xa5": [1, 'ANA L', 0],
    "0xa6": [1, 'ANA M', 0],
    "0xa7": [1, 'ANA A', 0],
    "0xa8": [1, 'XRA B', 0],
    "0xa9": [1, 'XRA C', 0],
    "0xaa": [1, 'XRA D', 0],
    "0xab": [1, 'XRA E', 0],
    "0xac": [1, 'XRA H', 0],
    "0xad": [1, 'XRA L', 0],
    "0xae": [1, 'XRA M', 0],
    "0xaf": [1, 'XRA A', 0],
    "0xb0": [1, 'ORA B', 0],
    "0xb1": [1, 'ORA C', 0],
    "0xb2": [1, 'ORA D', 0],
    "0xb3": [1, 'ORA E', 0],
    "0xb4": [1, 'ORA H', 0],
    "0xb5": [1, 'ORA L', 0],
    "0xb6": [1, 'ORA M', 0],
    "0xb7": [1, 'ORA A', 0],
    "0xb8": [1, 'CMP B', 0],
    "0xb9": [1, 'CMP C', 0],
    "0xba": [1, 'CMP D', 0],
    "0xbb": [1, 'CMP E', 0],
    "0xbc": [1, 'CMP H', 0],
    "0xbd": [1, 'CMP L', 0],
    "0xbe": [1, 'CMP M', 0],
    "0xbf": [1, 'CMP A', 0],
    "0xc0": [1, 'RNZ', 0],
    "0xc1": [1, 'POP B', 0],
    "0xc2": [3, 'JNZ', 1],
    "0xc3": [3, 'JMP', 1],
    "0xc4": [3, 'CNZ', 1],
    "0xc5": [1, 'PUSH B', 0],
    "0xc6": [2, 'ADI D8', 0],
    "0xc7": [1, 'RST 0', 0],
    "0xc8": [1, 'RZ', 0],
    "0xc9": [1, 'RET', 0],
    "0xca": [3, 'JZ', 1],
    "0xcb": [1, "", 0],
    "0xcc": [3, 'CZ', 1],
    "0xcd": [3, 'CALL', 1],
    "0xce": [2, 'ACI', 1],
    "0xcf": [1, 'RST 1', 0],
    "0xd0": [1, 'RNC', 0],
    "0xd1": [1, 'POP D', 0],
    "0xd2": [3, 'JNC', 1],
    "0xd3": [2, 'OUT', 1],
    "0xd4": [3, 'CNC', 1],
    "0xd5": [1, 'PUSH D', 0],
    "0xd6": [2, 'SUI D8', 0],
    "0xd7": [1, 'RST 2', 0],
    "0xd8": [1, 'RC', 0],
    "0xd9": [1, "", 0],
    "0xda": [3, 'JC', 1],
    "0xdb": [2, 'IN', 1],
    "0xdc": [3, 'CC', 1],
    "0xdd": [1, "", 0],
    "0xde": [2, 'SBI', 1],
    "0xdf": [1, 'RST 3', 0],
    "0xe0": [1, 'RPO', 0],
    "0xe1": [1, 'POP H', 0],
    "0xe2": [3, 'JPO', 1],
    "0xe3": [1, 'XTHL', 0],
    "0xe4": [3, 'CPO', 1],
    "0xe5":	[1, "PUSH H", 0],
    "0xe6": [2, 'ANI', 1],
    "0xe7": [1, 'RST 4', 0],
    "0xe8": [1, 'RPE', 0],
    "0xe9": [1, 'PCHL', 0],
    "0xea": [3, 'JPE', 1],
    "0xeb": [1, 'XCHG', 0],
    "0xec": [3, 'CPE', 1],
    "0xed": [1, "", 0],
    "0xee": [2, 'XRI', 1],
    "0xef": [1, 'RST 5', 0],
    "0xff": [1, 'RP', 0],
    "0xf1": [1, 'POP PSW', 0],
    "0xf2": [3, 'JP', 1],
    "0xf3": [1, 'DI', 0],
    "0xf4": [3, 'CP', 1],
    "0xf5": [1, 'PUSH PSW', 0],
    "0xf6": [2, 'ORI', 1],
    "0xf7": [1, 'RST 6', 0],
    "0xf8": [1, 'RM', 0],
    "0xf9": [1, 'SPHL', 0],
    "0xfa": [3, 'JM', 1],
    "0xfb": [1, 'EI', 0],
    "0xfc": [3, 'CM', 1],
    "0xfd": [1, "", 0],
    "0xfe": [2, 'CPI', 1],
    "0xff": [1, 'RST 7', 0]
}

def dis8080(buffer, pc):
    
    op, opbytes = ops[hex(buffer[pc])][1], ops[hex(buffer[pc])][0]
    if opbytes == 1:
        print(op)
    elif opbytes == 2:
        data = hex(buffer[pc + 1])
        print(f"{op} {data}")
    elif opbytes == 3:
        data1 = hex(buffer[pc + 1])[2:]
        data2 = hex(buffer[pc + 2])[2:]
        if ops[hex(buffer[pc])][2] == 1:
            print(f"{op} {data1}{data2}")
        else:
            print(f"{op} {data1}, {data2}")

    return opbytes

def main(filename):

    buffer = ""
    try:
        with open(filename, "rb") as f:
            buffer = f.read()
    except IOError:
        sys.exit("File not found")

    pc = 0
    while pc < len(buffer):
        pc += dis8080(buffer, pc)


if __name__ == "__main__":
    if len(sys.argv) == 1:
        sys.exit("Usage: python3 dis 8080file")
    else:
        main(sys.argv[1])